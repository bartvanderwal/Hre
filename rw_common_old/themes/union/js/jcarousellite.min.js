(function(h){function j0(c,b){return b.autoStop&&(b.circular?b.autoStop:Math.min(c,b.autoStop))}function f0(c){this.id&&(this.id+=c)}h.jCarouselLite={version:"1.8.1",curr:0},h.fn.jCarouselLite=function(h0){var a=h.extend(!0,{},h.fn.jCarouselLite.defaults,h0),K=Math.ceil,e0=Math.abs;return this.each(function(){function A(){return l.slice(e).slice(0,r)}function u(c,b){if(M)return !1;b=b||{};var d=e,f=c>e,t=b.speed||a.speed,D=b.offset||0;return a.beforeStart&&a.beforeStart.call(g,A(),f),l.removeClass(a.activeClass),a.circular?(c>e&&c>w-r?(e%=o,c-=o,k.css(m,-e*i.liSize-D)):c<e&&c<0&&(e+=o,c+=o,k.css(m,-e*i.liSize-D)),e=c+c%1):(c<0?c=0:c>w-v&&(c=w-v),e=c,e===0&&a.first&&a.first.call(this,A(),f),e===w-v&&a.last&&a.last.call(this,A(),f),a.btnPrev&&a.$btnPrev.toggleClass(a.btnDisabledClass,e===0),a.btnNext&&a.$btnNext.toggleClass(a.btnDisabledClass,e===w-v)),Z(e,I),h.jCarouselLite.curr=e,d===e&&!b.force?(a.afterEnd&&a.afterEnd.call(g,A(),f),e):(M=!0,G[m]=-(e*i.liSize),k.animate(G,t,a.easing,function(){a.afterEnd&&a.afterEnd.call(g,A(),f),M=!1}),l.eq(e).addClass(a.activeClass),e)}var S,T,p,U,V,F,W,i={div:{},ul:{},li:{}},X=!0,M=!1,m=a.vertical?"top":"left",G={},N=a.vertical?"height":"width",j=this,g=h(this),k=g.find("ul").eq(0),H=k.children("li"),o=H.length,q=a.visible,r=K(q),v=Math.floor(q),B=Math.min(a.start,o-1),O=1,Y=0,I={},n={},s={},C=a.vertical?"y":"x",P=a.vertical?"x":"y",g0=a.init.call(this,a,H);if(g0===!1)return ;g.data("dirjc",O),g.data(m+"jc",g.css(m)),a.circular&&(S=H.slice(o-r).clone(!0).each(f0),T=H.slice(0,r).clone(!0).each(f0),k.prepend(S).append(T),B+=r,Y=r);var Z=function(c,b){c=K(c);var d,f=(c-Y)%o,t=f+v;return b.go&&(d=h(a.btnGo),d.removeClass(a.activeClass).removeClass(a.visibleClass),d.eq(f).addClass(a.activeClass),d.slice(f,f+v).addClass(a.visibleClass),t>d.length&&d.slice(0,t-d.length).addClass(a.visibleClass)),b.pager&&(p.removeClass(a.activeClass),p.eq(K(f/q)).addClass(a.activeClass)),f},l=k.children("li"),w=l.length,e=B;h.jCarouselLite.curr=e;var d0=function(c){var b,d,f;return c?(i.div[N]="",i.li={width:"",height:""},i):(b=a.vertical?l.outerHeight(!0):l.outerWidth(!0),d=b*w,f=b*q,i.div[N]=f+"px",i.ul[N]=d+"px",i.ul[m]=-(e*b)+"px",i.li={width:l.width(),height:l.height()},i.liSize=b,i)},c0=function(c){var b,d={div:{visibility:"visible",position:"relative",zIndex:2,left:"0"},ul:{margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1},li:{overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"}};c&&(b=d0(!0),g.css(b.div),k.css(b.ul),l.css(b.li)),b=d0(),a.autoCSS&&(X&&(h.extend(!0,b,d),X=!1),l.css(b.li),k.css(b.ul),g.css(b.div))};c0();var b0=0,a0=j0(o,a),i0=typeof a.auto=="number"?a.auto:a.scroll,J=function(){j.setAutoAdvance=setTimeout(function(){if(!a0||a0>b0)O=g.data("dirjc"),u(e+O*i0),b0++,J()},a.timeout)};h.each(["btnPrev","btnNext"],function(d,f){a[f]&&(a["$"+f]=h.isFunction(a[f])?a[f].call(g[0]):h(a[f]),a["$"+f].bind("click.jc",function(c){c.preventDefault();var b=d===0?e-a.scroll:e+a.scroll;return a.directional&&g.data("dirjc",d?1:-1),u(b)}))}),a.circular||(a.btnPrev&&B===0&&a.$btnPrev.addClass(a.btnDisabledClass),a.btnNext&&B+v>=w&&a.$btnNext.addClass(a.btnDisabledClass)),a.btnGo&&(h.each(a.btnGo,function(b,d){h(d).bind("click.jc",function(c){return c.preventDefault(),u(a.circular?q+b:b)})}),I.go=1);if(a.autoPager){U=K(o/q),p=[];for(var Q=0;Q<U;Q++)p.push('<li><a href="#">'+(Q+1)+"</a></li>");p.length>1&&(p=h("<ul>"+p.join("")+"</ul>").appendTo(a.autoPager).find("li")),p.find("a").each(function(d){h(this).bind("click.jc",function(c){c.preventDefault();var b=d*q;return a.circular&&(b+=q),u(b)})}),I.pager=1}Z(B,I),a.mouseWheel&&g.mousewheel&&g.bind("mousewheel.jc",function(c,b){return b>0?u(e-a.scroll):u(e+a.scroll)}),a.pause&&a.auto&&g.bind("mouseenter.jc",function(){g.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){g.trigger("resumeCarousel.jc")}),a.auto&&J(),h.jCarouselLite.vis=A,g.bind("go.jc",function(c,b,d){typeof b=="undefined"&&(b="+=1");var f=typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);f?b=f[1]=="-="?e-f[2]*1:e+f[2]*1:b+=B,u(b,d)}).bind("startCarousel.jc",function(c){clearTimeout(j.setAutoAdvance),j.setAutoAdvance=undefined,g.trigger("go","+="+a.scroll),J(),g.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(c,b){if(j.setAutoAdvance)return ;clearTimeout(j.setAutoAdvance),j.setAutoAdvance=undefined;var d=g.data("stoppedjc");if(b||!d)J(),g.removeData("pausedjc"),d&&g.removeData("stoppedjc")}).bind("pauseCarousel.jc",function(c){clearTimeout(j.setAutoAdvance),j.setAutoAdvance=undefined,g.data("pausedjc",!0)}).bind("stopCarousel.jc",function(c){clearTimeout(j.setAutoAdvance),j.setAutoAdvance=undefined,g.data("stoppedjc",!0)}).bind("refreshCarousel.jc",function(c){c0(a.autoCSS)}).bind("endCarousel.jc",function(){j.setAutoAdvance&&(clearTimeout(j.setAutoAdvance),j.setAutoAdvance=undefined),a.btnPrev&&a.$btnPrev.addClass(a.btnDisabledClass).unbind(".jc"),a.btnNext&&a.$btnNext.addClass(a.btnDisabledClass).unbind(".jc"),a.btnGo&&h.each(a.btnGo,function(c,b){h(b).unbind(".jc")}),a.circular&&(l.slice(0,r).remove(),l.slice(-r).remove()),h.each([m+"jc","pausedjc","stoppedjc","dirjc"],function(c,b){g.removeData(b)}),g.unbind(".jc")}),W={touchstart:function(c){n.x=c.targetTouches[0].pageX,n.y=c.targetTouches[0].pageY,n[m]=parseFloat(k.css(m)),n.time=+(new Date)},touchmove:function(c){var b=c.targetTouches.length;b===1?(c.preventDefault(),s.x=c.targetTouches[0].pageX,s.y=c.targetTouches[0].pageY,G[m]=n[m]+(s[C]-n[C]),k.css(G)):s=n},touchend:function(c){if(!s.x)return ;var b=n[C]-s[C],d=e0(b),f=d>a.swipeThresholds[C],t=e0(n[P]-s[P])<a.swipeThresholds[P],D=+(new Date)-n.time,E=D<a.swipeThresholds.time,R=b>0?"+=":"-=",z=R+a.scroll,L={force:!0};E&&f&&t?L.speed=a.speed/2:!E&&d<i.liSize/2||!f||E&&!t?z="+=0":!E&&d>i.liSize/2&&(z=Math.round(d/i.liSize),z=R+(z>a.visible?a.visible:z),L.offset=b),g.trigger("go.jc",[z,L]),s={}}},"ontouchend" in document&&a.swipe&&g.bind("touchstart touchmove touchend",function(c){c=c.originalEvent,W[c.type](c)}),a.responsive&&(F=a.autoCSS,h(window).bind("resize",function(c){F&&(k.width(k.width()*2),F=!1),clearTimeout(V),V=setTimeout(function(){g.trigger("refreshCarousel"),F=a.autoCSS},100)}))}),this},h.fn.jCarouselLite.defaults={autoCSS:!0,btnPrev:'.prev',btnNext:'.next',btnGo:null,autoPager:null,btnDisabledClass:"disabled",activeClass:"active",visibleClass:"vis",mouseWheel:!1,speed:600,easing:null,timeout:4000,auto:!1,directional:!1,autoStop:!1,pause:!0,vertical:!0,circular:!0,visible:3,start:0,scroll:1,responsive:!1,swipe:!1,swipeThresholds:{x:80,y:120,time:150},init:function(){},first:null,last:null,beforeStart:null,afterEnd:null}})(jQuery);
